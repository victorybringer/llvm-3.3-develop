<!DOCTYPE html>
<html><head><title>getargs [function breakdown]</title>
<link rel="stylesheet" href="../style.css" type="text/css">
<link rel="stylesheet" href="../jquery.snippet.css" type="text/css">
<script type="text/javascript" src="../jquery-1.8.2.min.js"></script>
<script type="text/javascript" src="../jquery.snippet.js"></script>
<script type="text/javascript" src="../highlight.js"></script>
</head>
<body>Breakdown of getargs (defined in /root/文档/myTests/bench/time-1.7/time.c)
<div><ul><li><span class="code-type">i32<a href="#" onclick="editor.highlightText('highlight', 'argc');">argc</a>
</span>
</li>
<li><span class="code-type">i8**<a href="#" onclick="editor.highlightText('highlight', 'argv');">argv</a>
<span class="code-comment"> /* [ <a href="#" onclick="highlightLines(518, [[531, 'deref'],[551, 'arg/noret'],[563, 'arg/noret'],[565, 'arg/noret'],[570, 'arg/noret'],[588, 'arg/noret']]);">PANotNull </a>
, <a href="#" onclick="highlightLines(518, [[531, 'store']]);">PAEscape </a>
 ] */ </span> </span>
</span>
</li>
</ul>
</div>
<p>getargs (<span class="code-type">i32</span> argc</span>
, <span class="code-type">i8**</span> argv</span>
) -> <span class="code-type">i8**</span></p>
<pre id="code" name="code">{
  int optc;
  char *format;      /* Format found in environment.  */

  /* Initialize the option flags.  */
  verbose = false;
  outfile = NULL;
  outfp = stderr;
  append = false;
  output_format = default_format;
  program_name = argv[0];

  /* Set the format string from the environment.  Do this before checking
     the args so that we won&#39;t clobber a user-specified format.  */
  format = getenv (&quot;TIME&quot;);
  if (format)
    output_format = format;

  while ((optc = getopt_long (argc, argv, &quot;+af:o:pvV&quot;, longopts, (int *) 0))
   != EOF)
    {
      switch (optc)
  {
  case &#39;a&#39;:
    append = true;
    break;
  case &#39;f&#39;:
    output_format = optarg;
    break;
  case &#39;h&#39;:
    usage (stdout, 0);
  case &#39;o&#39;:
    outfile = optarg;
    break;
  case &#39;p&#39;:
    output_format = posix_format;
    break;
  case &#39;v&#39;:
    verbose = true;
    break;
  case &#39;V&#39;:
    fprintf (stderr, &quot;%s\n&quot;, version_string);
    exit (0);
  default:
    usage (stderr, 1);
  }
    }

  if (optind == argc)
    usage (stderr, 1);

  if (outfile)
    {
      if (append)
  outfp = fopen (outfile, &quot;a&quot;);
      else
  outfp = fopen (outfile, &quot;w&quot;);
      if (outfp == NULL)
  error (1, errno, &quot;%s&quot;, outfile);
    }

  /* If the user specified verbose output, we need to convert
     `longstats&#39; to a `char *&#39;.  */
  if (verbose)
    {
      output_format = (const char *) linear_argv (longstats);
      if (output_format == NULL)
  exit (1);    /* Out of memory.  */
    }

  return (const char **) &amp;argv[optind];
}</pre>
<script type="text/javascript">
$(window).bind("load", function() {
  $("pre#code").snippet("c", {style: "emacs", showNum: true, startNum: 518});
  initializeHighlighting();
  linkCalledFunctions([['usage', 'usage'], ['usage', 'usage'], ['usage', 'usage'], ['error', 'error'], ['linear_argv', 'linear_argv']]);
  });
</script>
</body>
</html>
