<!DOCTYPE html>
<html><head><title>run_command [function breakdown]</title>
<link rel="stylesheet" href="../style.css" type="text/css">
<link rel="stylesheet" href="../jquery.snippet.css" type="text/css">
<script type="text/javascript" src="../jquery-1.8.2.min.js"></script>
<script type="text/javascript" src="../jquery.snippet.js"></script>
<script type="text/javascript" src="../highlight.js"></script>
</head>
<body>Breakdown of run_command (defined in /root/文档/myTests/bench/time-1.7/time.c)
<div><ul><li><span class="code-type">i8**<a href="#" onclick="editor.highlightText('highlight', 'cmd');">cmd</a>
<span class="code-comment"> /* [ PAArray 2 ] */ </span> </span>
</span>
</li>
<li><span class="code-type">%struct.RESUSE*<a href="#" onclick="editor.highlightText('highlight', 'resp');">resp</a>
<span class="code-comment"> /* [ <a href="#" onclick="highlightLines(598, [[605, 'deref'],[616, 'arg/noret']]);">PANotNull </a>
 ] */ </span> </span>
</span>
</li>
</ul>
</div>
<p>run_command (<span class="code-type">i8**</span> cmd</span>
, <span class="code-type">%struct.RESUSE*</span> resp</span>
) -> <span class="code-type">void</span></p>
<pre id="code" name="code">{
  pid_t pid;      /* Pid of child.  */
  sighandler interrupt_signal, quit_signal;

  resuse_start (resp);

  pid = fork ();    /* Run CMD as child process.  */
  if (pid &lt; 0)
    error (1, errno, &quot;cannot fork&quot;);
  else if (pid == 0)
    {        /* If child.  */
      /* Don&#39;t cast execvp arguments; that causes errors on some systems,
   versus merely warnings if the cast is left off.  */
      execvp (cmd[0], cmd);
      error (0, errno, &quot;cannot run %s&quot;, cmd[0]);
      _exit (errno == ENOENT ? 127 : 126);
    }

  /* Have signals kill the child but not self (if possible).  */
  interrupt_signal = signal (SIGINT, SIG_IGN);
  quit_signal = signal (SIGQUIT, SIG_IGN);

  if (resuse_end (pid, resp) == 0)
    error (1, errno, &quot;error waiting for child process&quot;);

  /* Re-enable signals.  */
  signal (SIGINT, interrupt_signal);
  signal (SIGQUIT, quit_signal);
}</pre>
<script type="text/javascript">
$(window).bind("load", function() {
  $("pre#code").snippet("c", {style: "emacs", showNum: true, startNum: 598});
  initializeHighlighting();
  linkCalledFunctions([['resuse_start', 'resuse_start'], ['error', 'error'], ['error', 'error'], ['resuse_end', 'resuse_end'], ['error', 'error']]);
  });
</script>
</body>
</html>
