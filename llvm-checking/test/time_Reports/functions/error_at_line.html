<!DOCTYPE html>
<html><head><title>error_at_line [function breakdown]</title>
<link rel="stylesheet" href="../style.css" type="text/css">
<link rel="stylesheet" href="../jquery.snippet.css" type="text/css">
<script type="text/javascript" src="../jquery-1.8.2.min.js"></script>
<script type="text/javascript" src="../jquery.snippet.js"></script>
<script type="text/javascript" src="../highlight.js"></script>
</head>
<body>Breakdown of error_at_line (defined in /root/文档/myTests/bench/time-1.7/error.c)
<div><ul><li><span class="code-type">i32<a href="#" onclick="editor.highlightText('highlight', 'status');">status</a>
</span>
</li>
<li><span class="code-type">i32<a href="#" onclick="editor.highlightText('highlight', 'errnum');">errnum</a>
</span>
</li>
<li><span class="code-type">i8*<a href="#" onclick="editor.highlightText('highlight', 'file_name');">file_name</a>
<span class="code-comment"> /* [ PAArray 1, <a href="#" onclick="highlightLines(151, [[177, 'store']]);">PAEscape </a>
 ] */ </span> </span>
</span>
</li>
<li><span class="code-type">i32<a href="#" onclick="editor.highlightText('highlight', 'line_number');">line_number</a>
</span>
</li>
<li><span class="code-type">i8*<a href="#" onclick="editor.highlightText('highlight', 'message');">message</a>
<span class="code-comment"> /* [ PAArray 1 ] */ </span> </span>
</span>
</li>
</ul>
</div>
<p>error_at_line (<span class="code-type">i32</span> status</span>
, <span class="code-type">i32</span> errnum</span>
, <span class="code-type">i8*</span> file_name</span>
, <span class="code-type">i32</span> line_number</span>
, <span class="code-type">i8*</span> message</span>
) -> <span class="code-type">void</span></p>
<pre id="code" name="code">{
#ifdef VA_START
  va_list args;
#endif

  if (error_one_per_line)
    {
      static const char *old_file_name;
      static unsigned int old_line_number;

      if (old_line_number == line_number &amp;&amp;
    (file_name == old_file_name || !strcmp (old_file_name, file_name)))
  /* Simply return and print nothing.  */
  return;

      old_file_name = file_name;
      old_line_number = line_number;
    }

  if (error_print_progname)
    (*error_print_progname) ();
  else
    {
      fflush (stdout);
      fprintf (stderr, &quot;%s:&quot;, program_name);
    }

  if (file_name != NULL)
    fprintf (stderr, &quot;%s:%d: &quot;, file_name, line_number);

#ifdef VA_START
  VA_START (args, message);
# if HAVE_VPRINTF || _LIBC
  vfprintf (stderr, message, args);
# else
  _doprnt (message, args, stderr);
# endif
  va_end (args);
#else
  fprintf (stderr, message, a1, a2, a3, a4, a5, a6, a7, a8);
#endif

  ++error_message_count;
  if (errnum)
    fprintf (stderr, &quot;: %s&quot;, strerror (errnum));
  putc (&#39;\n&#39;, stderr);
  fflush (stderr);
  if (status)
    exit (status);
}</pre>
<script type="text/javascript">
$(window).bind("load", function() {
  $("pre#code").snippet("c", {style: "emacs", showNum: true, startNum: 151});
  initializeHighlighting();
  linkCalledFunctions([]);
  });
</script>
</body>
</html>
